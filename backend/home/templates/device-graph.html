{% extends 'base.html' %}
{% block content %}
<div class="flex space-x-2">
    <a href="/">
    <button
      type="button"
      data-mdb-ripple="true"
      data-mdb-ripple-color="light"
      class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"
    >Go Back</button>
</a>
  </div>
<div class="shadow-lg rounded-lg overflow-hidden">
    <div class="py-3 px-5 bg-gray-50 text-center text-5xl">Device Graph</div>
    <canvas class="p-10" id="chartBar"></canvas>
  </div>

  {{ temp}}
  {{ humidity}}
  
  <!-- Required chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Chart bar -->
 <script>
    var myVariable = "{{ temp }}";
    console.log(myVariable)
    const labelsBarChart = [
     "Humidity",
     "Temperature"
    ];
    const arrayRange = (start, stop, step) =>
    Array.from(
    { length: (stop - start) / step + 1 },
    (value, index) => start + index * step
    );
    const dataBarChart = {
      labels: labelsBarChart,
      datasets: [
        {
          label: "",
          backgroundColor: "hsl(252, 82.9%, 67.8%)",
          borderColor: "hsl(252, 82.9%, 67.8%)",
          data: arrayRange(2, 12, 1),
        },
      ],
    };
  
    const configBarChart = {
      type: "bar",
      data: dataBarChart,
      options: {},
    };
  
    var chartBar = new Chart(
      document.getElementById("chartBar"),
      configBarChart
    );
  </script>
                  
{% endblock content %}

